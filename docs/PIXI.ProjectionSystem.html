
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>webdoc: ProjectionSystem</title>

    <link type="text/css" rel="stylesheet" href="styles/index.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500,700&display=swap" />
    <link type="text/css" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/googlecode.min.css">

    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="scripts/default-template.js"></script>
  </head>
  <body class="root">
    <div class="docs">
      <header class="header" id="header-mount-point"></header>
      <article class="page">
        <div class="page-explorer" id="explorer-mount-point"></div>
        
        
<div class="page-content">
  <div class="document">
    <div class="document__package">@pixi/core</div>
    <h1 class="document__title">PIXI.ProjectionSystem</h1>
    
<pre class="signature__container"><code class="signature">class ProjectionSystem extends <a href="PIXI.System.html">PIXI.System</a></code></pre>


    <div class="document__brief"><p>System plugin to the renderer to manage the projection matrix.</p></div>
    <div class="document__description"><p>The <code>projectionMatrix</code> is a global uniform provided to all shaders. It is used to transform points in world space to
normalized device coordinates.</p></div>

    
      
<div class="members">
  <h2 class="members__category">Constructor</h2>

  
    
<div class="member" id="constructor">
  <h3 class="member__title"></h3>
  
<pre class="signature__container"><code class="signature">new PIXI.ProjectionSystem(renderer: <a href="PIXI.Renderer.html">PIXI.Renderer</a>)</code></pre>


  <div class="member__brief"></div>
  <div class="member__description"></div>

  
    
<div class="table-wrapper">
  <table class="member-parameters">
    <caption class="member-parameters__caption">Parameters:</caption>
    <thead class="member-parameters__head">
      <tr class="member-parameter-header">
        <th class="member-parameter-header__name">Name</th>
        <th class="member-parameter-header__type">Type</th>
        
        
        <th class="member-parameter-header__description">Description</th>
      </tr>
    </thead>
    <tbody class="member-parameters__body">
      <tr class="member-parameter">
        <td class="member-parameter__name">
          renderer
        </td>
        <td class="member-parameter__type">
          <a href="PIXI.Renderer.html">PIXI.Renderer</a>
        </td>
        
        
        <td class="member-parameter__description"><p>The renderer this System works for.</p></td>
      </tr>
    </tbody>
  </table>
</div>

  

  
</div>

  
</div>

    

    
<div class="members">
  <h2 class="members__category">Public Properties</h2>

  
    
<div class="member" id="defaultFrame">
  <h3 class="member__title">defaultFrame</h3>
  
<pre class="signature__container"><code class="signature">defaultFrame: PIXI.Rectangle.html</code></pre>


  <div class="member__brief"><p>Default destination frame</p></div>
  <div class="member__description"><p>This is not used internally. It is not advised to use this feature specifically unless you know what
you're doing. The <code>update</code> method will default to this frame if you do not pass the destination frame.</p></div>

  

  
</div>

  
    
<div class="member" id="destinationFrame">
  <h3 class="member__title">destinationFrame</h3>
  
<pre class="signature__container"><code class="signature">destinationFrame: PIXI.Rectangle.html</code></pre>


  <div class="member__brief"><p>The destination frame used to calculate the current projection matrix.</p></div>
  <div class="member__description"><p>The destination frame is the rectangle in the render-target into which contents are rendered. If rendering
to the screen, the origin is on the top-left. If rendering to a framebuffer, the origin is on the
bottom-left. This &quot;flipping&quot; phenomenon is because of WebGL convention for (shader) texture coordinates, where
the bottom-left corner is (0,0). It allows display-objects to map their (0,0) position in local-space (top-left)
to (0,0) in texture space (bottom-left). In other words, a sprite's top-left corner actually renders the
texture's bottom-left corner. You will also notice this when using a tool like SpectorJS to view your textures
at runtime.</p>
<p>The destination frame's dimensions (width,height) should be equal to the source frame. This is because,
otherwise, the contents will be scaled to fill the destination frame. Similarly, the destination frame's (x,y)
coordinates are (0,0) unless you know what you're doing.</p></div>

  

  
</div>

  
    
<div class="member" id="projectionMatrix">
  <h3 class="member__title">projectionMatrix</h3>
  
<pre class="signature__container"><code class="signature">projectionMatrix: PIXI.Matrix.html</code></pre>


  <div class="member__brief"><p>Projection matrix</p></div>
  <div class="member__description"><p>This matrix can be used to transform points from world space to normalized device coordinates, and is calculated
from the sourceFrame → destinationFrame mapping provided.</p>
<p>The renderer's <code>globalUniforms</code> keeps a reference to this, and so it is available for all shaders to use as a
uniform.</p></div>

  

  
</div>

  
    
<div class="member" id="renderer">
  <h3 class="member__title">renderer</h3>
  
<pre class="signature__container"><code class="signature">renderer: PIXI.Renderer.html</code></pre>


  <div class="member__brief"><p>The renderer this manager works for.</p></div>
  <div class="member__description"></div>

  

  
</div>

  
    
<div class="member" id="sourceFrame">
  <h3 class="member__title">sourceFrame</h3>
  
<pre class="signature__container"><code class="signature">sourceFrame: PIXI.Rectangle.html</code></pre>


  <div class="member__brief"><p>The source frame used to calculate the current projection matrix.</p></div>
  <div class="member__description"><p>The source frame is the rectangle in world space containing the contents to be rendered.</p></div>

  

  
</div>

  
    
<div class="member" id="transform">
  <h3 class="member__title">transform</h3>
  
<pre class="signature__container"><code class="signature">transform: PIXI.Matrix.html</code></pre>


  <div class="member__brief"><p>A transform to be appended to the projection matrix.</p></div>
  <div class="member__description"><p>This can be used to transform points in world-space one last time before they are outputted by the shader. You can
use to rotate the whole scene, for example. Remember to clear it once you've rendered everything.</p></div>

  

  
</div>

  
</div>

    
    
<div class="members">
  <h2 class="members__category">Public Methods</h2>

  
    
<div class="member" id="calculateProjection">
  <h3 class="member__title">calculateProjection</h3>
  
<pre class="signature__container"><code class="signature">calculateProjection(destinationFrame: <a href="PIXI.Rectangle.html">PIXI.Rectangle</a>, sourceFrame: <a href="PIXI.Rectangle.html">PIXI.Rectangle</a>, resolution: Number, root: boolean) → {void}</code></pre>


  <div class="member__brief"><p>Calculates the <code>projectionMatrix</code> to map points inside <code>sourceFrame</code> to inside <code>destinationFrame</code>.</p></div>
  <div class="member__description"></div>

  
    
<div class="table-wrapper">
  <table class="member-parameters">
    <caption class="member-parameters__caption">Parameters:</caption>
    <thead class="member-parameters__head">
      <tr class="member-parameter-header">
        <th class="member-parameter-header__name">Name</th>
        <th class="member-parameter-header__type">Type</th>
        
        
        <th class="member-parameter-header__description">Description</th>
      </tr>
    </thead>
    <tbody class="member-parameters__body">
      <tr class="member-parameter">
        <td class="member-parameter__name">
          destinationFrame
        </td>
        <td class="member-parameter__type">
          <a href="PIXI.Rectangle.html">PIXI.Rectangle</a>
        </td>
        
        
        <td class="member-parameter__description"><p>The destination frame in the render-target.</p></td>
      </tr><tr class="member-parameter">
        <td class="member-parameter__name">
          sourceFrame
        </td>
        <td class="member-parameter__type">
          <a href="PIXI.Rectangle.html">PIXI.Rectangle</a>
        </td>
        
        
        <td class="member-parameter__description"><p>The source frame in world space.</p></td>
      </tr><tr class="member-parameter">
        <td class="member-parameter__name">
          resolution
        </td>
        <td class="member-parameter__type">
          Number
        </td>
        
        
        <td class="member-parameter__description"><p>The render-target's resolution, i.e. ratio of CSS to physical pixels.</p></td>
      </tr><tr class="member-parameter">
        <td class="member-parameter__name">
          root
        </td>
        <td class="member-parameter__type">
          boolean
        </td>
        
        
        <td class="member-parameter__description"><p>Whether rendering into the screen. Otherwise, if rendering to a framebuffer, the projection
is y-flipped.</p></td>
      </tr>
    </tbody>
  </table>
</div>

  

  
    
<table class="member-returns">
  <caption class="member-returns__caption">Returns:</caption>
  <thead class="member-returns__head">
    <tr class="member-returns-header">
      <th class="member-returns-header__type">Type</th>
      <th class="member-returns-header__description">Description</th>
    </tr>
  </thead>
  <tbody class="member-returns__body">
    <tr class="member-return">
      <td class="member-return__type">
        void
      </td>
      <td class="member-return__description"></td>
    </tr>
  </tbody>
</table>

  
</div>

  
    
<div class="member" id="destroy">
  <h3 class="member__title">destroy</h3>
  
<pre class="signature__container"><code class="signature">destroy() → {void}</code></pre>


  <div class="member__brief"><p>Generic destroy methods to be overridden by the subclass</p></div>
  <div class="member__description"></div>

  

  
    
<table class="member-returns">
  <caption class="member-returns__caption">Returns:</caption>
  <thead class="member-returns__head">
    <tr class="member-returns-header">
      <th class="member-returns-header__type">Type</th>
      <th class="member-returns-header__description">Description</th>
    </tr>
  </thead>
  <tbody class="member-returns__body">
    <tr class="member-return">
      <td class="member-return__type">
        void
      </td>
      <td class="member-return__description"></td>
    </tr>
  </tbody>
</table>

  
</div>

  
    
<div class="member" id="setTransform">
  <h3 class="member__title">setTransform</h3>
  
<pre class="signature__container"><code class="signature">setTransform(matrix: <a href="PIXI.Matrix.html">PIXI.Matrix</a>) → {void}</code></pre>


  <div class="member__brief"><p>Sets the transform of the active render target to the given matrix</p></div>
  <div class="member__description"></div>

  
    
<div class="table-wrapper">
  <table class="member-parameters">
    <caption class="member-parameters__caption">Parameters:</caption>
    <thead class="member-parameters__head">
      <tr class="member-parameter-header">
        <th class="member-parameter-header__name">Name</th>
        <th class="member-parameter-header__type">Type</th>
        
        
        <th class="member-parameter-header__description">Description</th>
      </tr>
    </thead>
    <tbody class="member-parameters__body">
      <tr class="member-parameter">
        <td class="member-parameter__name">
          matrix
        </td>
        <td class="member-parameter__type">
          <a href="PIXI.Matrix.html">PIXI.Matrix</a>
        </td>
        
        
        <td class="member-parameter__description"><p>The transformation matrix</p></td>
      </tr>
    </tbody>
  </table>
</div>

  

  
    
<table class="member-returns">
  <caption class="member-returns__caption">Returns:</caption>
  <thead class="member-returns__head">
    <tr class="member-returns-header">
      <th class="member-returns-header__type">Type</th>
      <th class="member-returns-header__description">Description</th>
    </tr>
  </thead>
  <tbody class="member-returns__body">
    <tr class="member-return">
      <td class="member-return__type">
        void
      </td>
      <td class="member-return__description"></td>
    </tr>
  </tbody>
</table>

  
</div>

  
    
<div class="member" id="update">
  <h3 class="member__title">update</h3>
  
<pre class="signature__container"><code class="signature">update(destinationFrame: <a href="PIXI.Rectangle.html">PIXI.Rectangle</a>, sourceFrame: <a href="PIXI.Rectangle.html">PIXI.Rectangle</a>, resolution: Number, root: boolean) → {void}</code></pre>


  <div class="member__brief"><p>Updates the projection-matrix based on the sourceFrame → destinationFrame mapping provided.</p></div>
  <div class="member__description"><p>NOTE: It is expected you call <code>renderer.framebuffer.setViewport(destinationFrame)</code> after this. This is because
the framebuffer viewport converts shader vertex output in normalized device coordinates to window coordinates.</p>
<p>NOTE-2: RenderTextureSystem#bind updates the projection-matrix when you bind a render-texture. It is expected
that you dirty the current bindings when calling this manually.</p></div>

  
    
<div class="table-wrapper">
  <table class="member-parameters">
    <caption class="member-parameters__caption">Parameters:</caption>
    <thead class="member-parameters__head">
      <tr class="member-parameter-header">
        <th class="member-parameter-header__name">Name</th>
        <th class="member-parameter-header__type">Type</th>
        
        
        <th class="member-parameter-header__description">Description</th>
      </tr>
    </thead>
    <tbody class="member-parameters__body">
      <tr class="member-parameter">
        <td class="member-parameter__name">
          destinationFrame
        </td>
        <td class="member-parameter__type">
          <a href="PIXI.Rectangle.html">PIXI.Rectangle</a>
        </td>
        
        
        <td class="member-parameter__description"><p>The rectangle in the render-target to render the contents
into. If rendering to the canvas, the origin is on the top-left; if rendering to a render-texture, the origin
is on the bottom-left.</p></td>
      </tr><tr class="member-parameter">
        <td class="member-parameter__name">
          sourceFrame
        </td>
        <td class="member-parameter__type">
          <a href="PIXI.Rectangle.html">PIXI.Rectangle</a>
        </td>
        
        
        <td class="member-parameter__description"><p>The rectangle in world space that contains the contents being rendered.</p></td>
      </tr><tr class="member-parameter">
        <td class="member-parameter__name">
          resolution
        </td>
        <td class="member-parameter__type">
          Number
        </td>
        
        
        <td class="member-parameter__description"><p>The resolution of the render-target, which is the ratio of world-space (or CSS) pixels
to physical pixels.</p></td>
      </tr><tr class="member-parameter">
        <td class="member-parameter__name">
          root
        </td>
        <td class="member-parameter__type">
          boolean
        </td>
        
        
        <td class="member-parameter__description"><p>Whether the render-target is the screen. This is required because rendering to textures
is y-flipped (i.e. upside down relative to the screen).</p></td>
      </tr>
    </tbody>
  </table>
</div>

  

  
    
<table class="member-returns">
  <caption class="member-returns__caption">Returns:</caption>
  <thead class="member-returns__head">
    <tr class="member-returns-header">
      <th class="member-returns-header__type">Type</th>
      <th class="member-returns-header__description">Description</th>
    </tr>
  </thead>
  <tbody class="member-returns__body">
    <tr class="member-return">
      <td class="member-return__type">
        void
      </td>
      <td class="member-return__description"></td>
    </tr>
  </tbody>
</table>

  
</div>

  
</div>

    
  </div>
</div>

<nav class="page-members-explorer">
  

<div class="page-members-explorer-category">
  <h3 class="page-members-explorer-category__title">Public Properties</h3>
  <ul class="page-members-explorer-category__items">
    
      <li class="page-members-explorer__item"><a href="PIXI.ProjectionSystem.html#defaultFrame">defaultFrame</a></li>
    
      <li class="page-members-explorer__item"><a href="PIXI.ProjectionSystem.html#destinationFrame">destinationFrame</a></li>
    
      <li class="page-members-explorer__item"><a href="PIXI.ProjectionSystem.html#projectionMatrix">projectionMatrix</a></li>
    
      <li class="page-members-explorer__item"><a href="PIXI.AbstractMaskSystem.html#renderer">renderer</a></li>
    
      <li class="page-members-explorer__item"><a href="PIXI.ProjectionSystem.html#sourceFrame">sourceFrame</a></li>
    
      <li class="page-members-explorer__item"><a href="PIXI.ProjectionSystem.html#transform">transform</a></li>
    
  </ul>
</div>

  
  

<div class="page-members-explorer-category">
  <h3 class="page-members-explorer-category__title">Public Methods</h3>
  <ul class="page-members-explorer-category__items">
    
      <li class="page-members-explorer__item"><a href="PIXI.ProjectionSystem.html#calculateProjection">calculateProjection</a></li>
    
      <li class="page-members-explorer__item"><a href="PIXI.BatchSystem.html#destroy">destroy</a></li>
    
      <li class="page-members-explorer__item"><a href="PIXI.ProjectionSystem.html#setTransform">setTransform</a></li>
    
      <li class="page-members-explorer__item"><a href="PIXI.ProjectionSystem.html#update">update</a></li>
    
  </ul>
</div>

  
</nav>



      </article>
      <footer class="footer" id="footer-mount-point"></footer>
      <script src="scripts/linenumber.js"> </script>
    </body>
  </div>
</html>
