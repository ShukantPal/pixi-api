
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>webdoc: Test Template</title>

    <link type="text/css" rel="stylesheet" href="styles/index.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500,700&display=swap" />

    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="scripts/default-template.js"></script>
    <script src="scripts/prettify.js"></script>
    <script src="scripts/lang-css.js"></script>
  </head>
  <body class="root">
    <div class="docs">
      <header class="header" id="header-mount-point"></header>
      <article class="page">
        <div class="page-explorer" id="explorer-mount-point"></div>
        
        
<div class="homepage">

  <div class="homepage__readme md">
    <h1>@pixi-essentials/object-pool</h1>
<p><a href="https://packagephobia.now.sh/result?p=@pixi-essentials/object-pool"><img src="https://packagephobia.now.sh/badge?p=@pixi-essentials/object-pool" alt="install size"></a></p>
<p>This package implements a custom-tailored object pool for PixiJS applications. It provides the
following features:</p>
<ul>
<li>
<p><strong>reserve</strong>: You can preallocate the pool size to have a set amount of objects.</p>
</li>
<li>
<p><strong>limit</strong>: You can reduce the pool size after a lot of allocations.</p>
</li>
<li>
<p><strong>auto-GC</strong>: The GC will reduce your pool to the reserve size after allocation demand goes down
per-frame.</p>
</li>
</ul>
<p>This package is can also be used as a <em>single-source</em> of object pools. If two different libraries need
a pool for say, <code>PIXI.Rectangle</code>, then the same object pool will be returned.</p>
<h3>Analysis</h3>
<ul>
<li>https://codepen.io/sukantpal/pen/zYvBOVw: This chart shows the pool capacity and the allocations done per frame. The GC
is enabled and reserve is set to 100,000.</li>
</ul>
<p><img src="https://i.ibb.co/jkNWHdR/Screen-Shot-2020-04-18-at-12-46-08-PM.png"></img></p>
<ul>
<li>You should use auto-GC only if allocations-per-frame is smooth (slowly increase &amp; slowly decrease) or you know the upper
limit of objects you need per frame.</li>
</ul>
<h2>Installation :package:</h2>
<pre><code class="hljs language-bash">npm install @pixi-essentials/object-pool
</code></pre>
<h2>Usage :page_facing_up:</h2>
<pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> { ObjectPoolFactory } <span class="hljs-keyword">from</span> <span class="hljs-string">'@pixi-essentials/object-pool'</span>;
<span class="hljs-keyword">import</span> { Rectangle } <span class="hljs-keyword">from</span> <span class="hljs-string">'@pixi/math'</span>;

<span class="hljs-keyword">const</span> rpool: ObjectPoolFactory = ObjectPoolFactory.build(Rectangle);

rpool.reserve(<span class="hljs-number">10000</span>);
rpool.startGC();<span class="hljs-comment">// prevent pool from staying above 10,000 rectangles for too long</span>

<span class="hljs-keyword">const</span> rect: PIXI.Rectangle = rpool.allocate();

<span class="hljs-comment">// do something</span>

rpool.release(rect);

<span class="hljs-comment">// Want to reduce pool size now?</span>
rpool.limit(<span class="hljs-number">11000</span>);
</code></pre>

  </div>

</div>

      </article>
      <footer class="footer" id="footer-mount-point"></footer>
      <script>prettyPrint();</script>
      <script src="scripts/linenumber.js"> </script>
    </body>
  </div>
</html>
